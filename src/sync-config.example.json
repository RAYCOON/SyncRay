{
  "databases": {
    "source": {
      "server": "YOUR-SERVER\\INSTANCE",
      "database": "SourceDatabase",
      "auth": "windows"
    },
    "target": {
      "server": "YOUR-SERVER",
      "database": "TargetDatabase",
      "auth": "sql",
      "user": "username",
      "password": "password"
    }
  },

  "_examples": {
    "_comment": "Example configurations for different database types",
    "sqlserver": {
      "server": "localhost\\SQLEXPRESS",
      "database": "MyDatabase",
      "auth": "windows"
    },
    "postgresql": {
      "server": "localhost",
      "database": "mydatabase",
      "port": 5432,
      "auth": "postgresql",
      "user": "postgres",
      "password": "password"
    },
    "postgresql_uri": {
      "server": "postgresql://user:password@localhost:5432/mydatabase",
      "auth": "postgresql"
    },
    "sqlite": {
      "server": "./data/mydata.db",
      "database": "",
      "auth": "sqlite"
    }
  },
  
  "syncTables": [ 
    {
      "sourceTable": "Users",
      "targetTable": "Users_Archive",
      "matchOn": ["UserID"],
      "ignoreColumns": ["LastModified"],
      "allowInserts": true,
      "allowUpdates": true,      
      "allowDeletes": false,
      "preserveIdentity": false,
      "exportWhere": "IsActive = 1"
    },
    {
      "sourceTable": "Orders",
      "matchOn": ["OrderID"],
      "allowDeletes": true
    },
    {
      "sourceTable": "ReferenceData",
      "replaceMode": true,
      "preserveIdentity": true,
      "_comment": "replaceMode: Deletes all records then inserts all from export (full replace)"
    }
  ],
  
  "exportPath": "./sync-data",
  "defaultDryRun": true,
  "batchSize": 1000,
  
  "_comment": "Use -ShowSQL flag with sync-export.ps1 or sync-import.ps1 to enable detailed SQL logging and debug output",
  
  "_database_support": {
    "_comment": "SyncRay supports multiple database types",
    "supported": ["SQL Server", "PostgreSQL", "SQLite"],
    "requirements": {
      "postgresql": "Requires Npgsql.dll or Npgsql NuGet package",
      "sqlite": "Requires PSSQLite PowerShell module"
    },
    "detection": {
      "postgresql": "Host=, Port=, postgresql://, postgres:// in connection string",
      "sqlite": "File extensions: .db, .sqlite or Data Source=file.db",
      "sqlserver": "Default for other connection strings"
    }
  }
}